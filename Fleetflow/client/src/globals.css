/* ============================================================
   FleetFlow — globals.css
   Location: client/src/globals.css   (main.tsx imports this)
   Delete or empty out: src/index.css
   ============================================================ */

@import url('https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,300;0,9..40,400;0,9..40,500;0,9..40,600;1,9..40,300&family=DM+Mono:wght@400;500&display=swap');

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ── Light theme ────────────────────────────────────────── */
:root {
  --bg:            #ffffff;
  --bg-subtle:     #f7f7f5;
  --bg-hover:      #f1f1ef;
  --border:        #e9e9e7;
  --border-strong: #d3d3cf;
  --text:          #191919;
  --text-2:        #5c5c5c;
  --text-3:        #9b9b9b;
  --accent:        #2383e2;
  --green:         #1e8a5e;  --green-sub:  #edf7f3;
  --yellow:        #c9690c;  --yellow-sub: #fdf3e7;
  --red:           #d44c47;  --red-sub:    #fdf2f2;
  --blue:          #2383e2;  --blue-sub:   #eef4fc;
  --r:   6px;  --r-lg: 10px;  --r-xl: 14px;
  --shadow-lg: 0 8px 24px rgba(0,0,0,.10), 0 2px 6px rgba(0,0,0,.04);
  --t:    150ms cubic-bezier(.25,.1,.25,1);
  --t-md: 220ms cubic-bezier(.25,.1,.25,1);
}

/* ── Dark theme ─────────────────────────────────────────── */
[data-theme="dark"] {
  --bg:            #191919;
  --bg-subtle:     #222222;
  --bg-hover:      #2a2a2a;
  --border:        #2e2e2e;
  --border-strong: #3d3d3d;
  --text:          #efefef;
  --text-2:        #9b9b9b;
  --text-3:        #5c5c5c;
  --accent:        #529cca;
  --green:         #5fb88a;  --green-sub:  #1a2e25;
  --yellow:        #e8a864;  --yellow-sub: #2e2418;
  --red:           #e88484;  --red-sub:    #2c1e1e;
  --blue:          #529cca;  --blue-sub:   #1c2d3e;
  --shadow-lg: 0 8px 24px rgba(0,0,0,.5), 0 2px 6px rgba(0,0,0,.2);
}

html { font-size: 15px; -webkit-font-smoothing: antialiased; }

body {
  font-family: 'DM Sans', -apple-system, sans-serif;
  font-size: .9rem;
  line-height: 1.6;
  color: var(--text);
  background: var(--bg);
  transition: background var(--t-md), color var(--t-md);
}

a { text-decoration: none; color: inherit; }
button { cursor: pointer; font-family: inherit; }
input, select, textarea { font-family: inherit; }

/* ─────────────────────────────────────────────────────────
   LAYOUT
───────────────────────────────────────────────────────── */
.ff-app { display: flex; min-height: 100vh; }

/* Sidebar */
.ff-sidebar {
  width: 232px;
  flex-shrink: 0;
  position: fixed;
  top: 0; left: 0;
  height: 100vh;
  overflow-y: auto;
  display: flex;
  flex-direction: column;
  background: var(--bg-subtle);
  border-right: 1px solid var(--border);
  padding-bottom: 12px;
  transition: background var(--t-md), border-color var(--t-md);
  z-index: 40;
}

.ff-brand {
  padding: 18px 16px 14px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 6px;
}
.ff-brand .brand-name {
  font-size: .95rem; font-weight: 600;
  letter-spacing: -.025em; color: var(--text);
}
.ff-brand .brand-sub {
  font-size: .67rem; font-weight: 500;
  letter-spacing: .08em; text-transform: uppercase;
  color: var(--text-3); margin-top: 1px;
}

.ff-nav { padding: 0 8px; }

.ff-nav-label {
  padding: 10px 8px 3px;
  font-size: .63rem; font-weight: 600;
  letter-spacing: .09em; text-transform: uppercase;
  color: var(--text-3);
}

.ff-nav-link {
  display: flex;
  align-items: center;
  gap: 9px;
  padding: 6px 10px;
  border-radius: var(--r);
  color: var(--text-2);
  font-size: .845rem;
  font-weight: 400;
  transition: background var(--t), color var(--t);
  user-select: none;
  margin-bottom: 1px;
}
.ff-nav-link:hover                 { background: var(--bg-hover); color: var(--text); }
.ff-nav-link.active                { background: var(--bg-hover); color: var(--text); font-weight: 500; }
.ff-nav-link svg                   { opacity: .6; flex-shrink: 0; }
.ff-nav-link:hover svg,
.ff-nav-link.active svg            { opacity: 1; }

.ff-sidebar-footer {
  margin-top: auto;
  padding: 10px 8px 0;
  border-top: 1px solid var(--border);
}

.ff-user {
  padding: 8px 10px 6px;
}
.ff-user .u-name  { font-size: .82rem; font-weight: 500; color: var(--text); line-height: 1.3; }
.ff-user .u-role  { font-size: .71rem; color: var(--text-3); text-transform: capitalize; }

.ff-footer-btn {
  display: flex;
  align-items: center;
  gap: 9px;
  width: 100%;
  padding: 6px 10px;
  border: none;
  background: none;
  border-radius: var(--r);
  color: var(--text-2);
  font-size: .82rem;
  transition: background var(--t), color var(--t);
}
.ff-footer-btn:hover { background: var(--bg-hover); color: var(--text); }

/* Theme toggle pill */
.toggle-track {
  width: 28px; height: 16px;
  background: var(--border-strong);
  border-radius: 99px;
  position: relative;
  transition: background var(--t-md);
  flex-shrink: 0;
}
[data-theme="dark"] .toggle-track { background: var(--accent); }
.toggle-thumb {
  position: absolute;
  top: 2px; left: 2px;
  width: 12px; height: 12px;
  background: #fff;
  border-radius: 50%;
  transition: transform var(--t-md);
  box-shadow: 0 1px 2px rgba(0,0,0,.2);
}
[data-theme="dark"] .toggle-thumb { transform: translateX(12px); }

/* Main */
.ff-main {
  margin-left: 232px;
  flex: 1;
  min-height: 100vh;
  background: var(--bg);
  transition: background var(--t-md);
}

/* ─────────────────────────────────────────────────────────
   PAGE
───────────────────────────────────────────────────────── */
.ff-page {
  padding: 40px 44px;
  max-width: 1200px;
  animation: ff-fade .3s ease both;
}

.ff-page-header {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  margin-bottom: 28px;
}

.ff-page-title {
  font-size: 1.45rem;
  font-weight: 600;
  letter-spacing: -.035em;
  color: var(--text);
  line-height: 1.2;
}

.ff-page-sub {
  margin-top: 3px;
  font-size: .82rem;
  color: var(--text-2);
}

/* ─────────────────────────────────────────────────────────
   KPI CARDS
───────────────────────────────────────────────────────── */
.ff-kpi-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 14px;
  margin-bottom: 24px;
}

.ff-kpi-card {
  background: var(--bg-subtle);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 18px 20px;
  transition: border-color var(--t);
}
.ff-kpi-card:hover { border-color: var(--border-strong); }

.ff-kpi-label {
  font-size: .68rem; font-weight: 600;
  letter-spacing: .06em; text-transform: uppercase;
  color: var(--text-3); margin-bottom: 8px;
}

.ff-kpi-value {
  font-family: 'DM Mono', monospace;
  font-size: 1.9rem; font-weight: 500;
  letter-spacing: -.04em;
  color: var(--text); line-height: 1;
}

.ff-kpi-meta { margin-top: 5px; font-size: .73rem; color: var(--text-3); }

/* ─────────────────────────────────────────────────────────
   CARD
───────────────────────────────────────────────────────── */
.ff-card {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  overflow: hidden;
  margin-bottom: 20px;
}

.ff-card-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 14px 18px;
  border-bottom: 1px solid var(--border);
}

.ff-card-title { font-size: .845rem; font-weight: 500; color: var(--text); }

/* ─────────────────────────────────────────────────────────
   FILTERS BAR
───────────────────────────────────────────────────────── */
.ff-filters {
  background: var(--bg-subtle);
  border: 1px solid var(--border);
  border-radius: var(--r-lg);
  padding: 14px 18px;
  margin-bottom: 18px;
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 12px;
}

/* ─────────────────────────────────────────────────────────
   TABLE
───────────────────────────────────────────────────────── */
.ff-table-wrap { overflow-x: auto; }

.ff-table { width: 100%; border-collapse: collapse; font-size: .845rem; }

.ff-table thead { background: var(--bg-subtle); }

.ff-table th {
  padding: 9px 16px;
  text-align: left;
  font-size: .66rem; font-weight: 600;
  letter-spacing: .07em; text-transform: uppercase;
  color: var(--text-3);
  border-bottom: 1px solid var(--border);
  white-space: nowrap;
}

.ff-table td {
  padding: 11px 16px;
  border-bottom: 1px solid var(--border);
  color: var(--text);
  vertical-align: middle;
}

.ff-table tbody tr:last-child td { border-bottom: none; }
.ff-table tbody tr { transition: background var(--t); }
.ff-table tbody tr:hover { background: var(--bg-hover); }

/* table cell helpers */
.t-primary   { font-weight: 500; font-size: .875rem; color: var(--text); }
.t-secondary { font-size: .78rem; color: var(--text-2); margin-top: 1px; }
.t-mono      { font-family: 'DM Mono', monospace; font-size: .8rem; color: var(--text-2); }

/* Row actions reveal on hover */
.ff-row-actions {
  display: flex; align-items: center; gap: 2px;
  opacity: 0; transition: opacity var(--t);
}
.ff-table tbody tr:hover .ff-row-actions { opacity: 1; }

/* ─────────────────────────────────────────────────────────
   BADGES
───────────────────────────────────────────────────────── */
.ff-badge {
  display: inline-flex; align-items: center; gap: 5px;
  padding: 2px 8px; border-radius: 4px;
  font-size: .7rem; font-weight: 500; white-space: nowrap;
}
.ff-badge::before {
  content: ''; width: 5px; height: 5px;
  border-radius: 50%; flex-shrink: 0;
}
.ff-badge-green  { background: var(--green-sub);  color: var(--green); }
.ff-badge-green::before  { background: var(--green); }
.ff-badge-blue   { background: var(--blue-sub);   color: var(--blue); }
.ff-badge-blue::before   { background: var(--blue); }
.ff-badge-yellow { background: var(--yellow-sub); color: var(--yellow); }
.ff-badge-yellow::before { background: var(--yellow); }
.ff-badge-red    { background: var(--red-sub);    color: var(--red); }
.ff-badge-red::before    { background: var(--red); }
.ff-badge-gray   { background: var(--bg-hover);   color: var(--text-2); }
.ff-badge-gray::before   { background: var(--text-3); }

/* ─────────────────────────────────────────────────────────
   BUTTONS
───────────────────────────────────────────────────────── */
.ff-btn {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 7px 13px; border-radius: var(--r);
  font-size: .82rem; font-weight: 500;
  border: 1px solid transparent;
  transition: background var(--t), opacity var(--t);
  white-space: nowrap; user-select: none; line-height: 1;
}
.ff-btn:active { transform: scale(.98); }

.ff-btn-primary  { background: var(--text); color: var(--bg); border-color: var(--text); }
.ff-btn-primary:hover { opacity: .82; }
.ff-btn-secondary { background: var(--bg); color: var(--text); border-color: var(--border-strong); }
.ff-btn-secondary:hover { background: var(--bg-hover); }
.ff-btn-ghost    { background: transparent; color: var(--text-2); }
.ff-btn-ghost:hover { background: var(--bg-hover); color: var(--text); }
.ff-btn-danger   { background: transparent; color: var(--red); }
.ff-btn-danger:hover { background: var(--red-sub); }
.ff-btn-success  { background: transparent; color: var(--green); }
.ff-btn-success:hover { background: var(--green-sub); }
.ff-btn-blue-ghost { background: transparent; color: var(--blue); }
.ff-btn-blue-ghost:hover { background: var(--blue-sub); }
.ff-btn-sm { padding: 4px 9px; font-size: .77rem; }

/* ─────────────────────────────────────────────────────────
   FORMS
───────────────────────────────────────────────────────── */
.ff-form-group { display: flex; flex-direction: column; gap: 5px; }

.ff-label { font-size: .78rem; font-weight: 500; color: var(--text-2); }
.ff-label span { color: var(--text-3); font-weight: 400; }

.ff-input, .ff-select, .ff-textarea {
  width: 100%;
  padding: 8px 11px;
  font-size: .875rem;
  color: var(--text);
  background: var(--bg);
  border: 1px solid var(--border-strong);
  border-radius: var(--r);
  outline: none;
  transition: border-color var(--t), box-shadow var(--t), background var(--t-md);
  appearance: none;
}
.ff-input::placeholder, .ff-textarea::placeholder { color: var(--text-3); }
.ff-input:focus, .ff-select:focus, .ff-textarea:focus {
  border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(35,131,226,.13);
}
.ff-select {
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5 5L9 1' stroke='%239b9b9b' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: right 11px center;
  padding-right: 30px;
  cursor: pointer;
}
.ff-textarea { resize: vertical; min-height: 76px; }
.ff-hint { font-size: .74rem; color: var(--text-3); }

/* ─────────────────────────────────────────────────────────
   MODAL
───────────────────────────────────────────────────────── */
.ff-overlay {
  position: fixed; inset: 0;
  background: rgba(0,0,0,.38);
  backdrop-filter: blur(3px);
  z-index: 50;
  display: flex; align-items: center; justify-content: center;
  padding: 24px;
  animation: ff-fade .15s ease;
}

.ff-modal {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: var(--r-xl);
  width: 100%; max-width: 460px;
  box-shadow: var(--shadow-lg);
  animation: ff-up .22s cubic-bezier(.32,.72,0,1);
  overflow: hidden;
}

.ff-modal-head {
  padding: 18px 22px 14px;
  border-bottom: 1px solid var(--border);
}

.ff-modal-title {
  font-size: .95rem; font-weight: 600;
  letter-spacing: -.02em; color: var(--text);
}

.ff-modal-body {
  padding: 18px 22px;
  display: flex; flex-direction: column; gap: 14px;
  max-height: 58vh; overflow-y: auto;
}

.ff-modal-foot {
  padding: 14px 22px;
  border-top: 1px solid var(--border);
  display: flex; justify-content: flex-end; gap: 8px;
}

/* ─────────────────────────────────────────────────────────
   MISC
───────────────────────────────────────────────────────── */
.ff-alert-error {
  padding: 9px 13px; border-radius: var(--r);
  font-size: .81rem;
  background: var(--red-sub); color: var(--red);
}

.ff-empty {
  padding: 52px 24px; text-align: center;
  color: var(--text-3); font-size: .845rem;
}

.ff-loading {
  display: flex; align-items: center; justify-content: center;
  gap: 10px; padding: 80px;
  color: var(--text-3); font-size: .845rem;
}

.ff-spinner {
  width: 15px; height: 15px;
  border: 2px solid var(--border-strong);
  border-top-color: var(--accent);
  border-radius: 50%;
  animation: ff-spin .6s linear infinite;
}

/* ─────────────────────────────────────────────────────────
   KEYFRAMES
───────────────────────────────────────────────────────── */
@keyframes ff-fade { from { opacity: 0; } to { opacity: 1; } }
@keyframes ff-up   { from { opacity: 0; transform: translateY(10px) scale(.98); } to { opacity: 1; transform: none; } }
@keyframes ff-spin { to { transform: rotate(360deg); } }